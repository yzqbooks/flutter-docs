"use strict";(self.webpackChunkflutter_docs=self.webpackChunkflutter_docs||[]).push([[1018],{22570:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t=JSON.parse('{"key":"v-68213fe8","path":"/chapter3/input_and_form.html","title":"3.5 è¾“å…¥æ¡†åŠè¡¨å•","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"3.5.1 TextField","slug":"_3-5-1-textfield","link":"#_3-5-1-textfield","children":[]},{"level":2,"title":"3.5.2 è¡¨å•Form","slug":"_3-5-2-è¡¨å•form","link":"#_3-5-2-è¡¨å•form","children":[]}],"git":{"createdTime":1654491188000,"updatedTime":1654491188000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":1}]},"readingTime":{"minutes":12.03,"words":3610},"filePathRelative":"chapter3/input_and_form.md","localizedDate":"2022å¹´6æœˆ6æ—¥","excerpt":""}')},19043:(n,s,a)=>{a.r(s),a.d(s,{default:()=>r});var t=a(6808);const e=a.p+"assets/img/3-18.32004737.png",p=a.p+"assets/img/3-19.b4c99739.png",o=a.p+"assets/img/3-21.9b33d227.png",c=a.p+"assets/img/3-22.5f728cdb.png",l=a.p+"assets/img/3-23.e63c5380.png",i=a.p+"assets/img/3-24.0995708e.png",u=[(0,t.uE)('<h1 id="_3-5-è¾“å…¥æ¡†åŠè¡¨å•" tabindex="-1"><a class="header-anchor" href="#_3-5-è¾“å…¥æ¡†åŠè¡¨å•" aria-hidden="true">#</a> 3.5 è¾“å…¥æ¡†åŠè¡¨å•</h1><p>Material ç»„ä»¶åº“ä¸­æä¾›äº†è¾“å…¥æ¡†ç»„ä»¶<code>TextField</code>å’Œè¡¨å•ç»„ä»¶<code>Form</code>ã€‚ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«ä»‹ç»ä¸€ä¸‹ã€‚</p><h2 id="_3-5-1-textfield" tabindex="-1"><a class="header-anchor" href="#_3-5-1-textfield" aria-hidden="true">#</a> 3.5.1 TextField</h2><p><code>TextField</code>ç”¨äºæ–‡æœ¬è¾“å…¥ï¼Œå®ƒæä¾›äº†å¾ˆå¤šå±æ€§ï¼Œæˆ‘ä»¬å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ä¸»è¦å±æ€§çš„ä½œç”¨ï¼Œç„¶åé€šè¿‡å‡ ä¸ªç¤ºä¾‹æ¥æ¼”ç¤ºä¸€ä¸‹å…³é”®å±æ€§çš„ç”¨æ³•ã€‚</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n  <span class="token class-name">TextEditingController</span> controller<span class="token punctuation">,</span> \n  <span class="token class-name">FocusNode</span> focusNode<span class="token punctuation">,</span>\n  <span class="token class-name">InputDecoration</span> decoration <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token class-name">TextInputType</span> keyboardType<span class="token punctuation">,</span>\n  <span class="token class-name">TextInputAction</span> textInputAction<span class="token punctuation">,</span>\n  <span class="token class-name">TextStyle</span> style<span class="token punctuation">,</span>\n  <span class="token class-name">TextAlign</span> textAlign <span class="token operator">=</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>\n  bool autofocus <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  bool obscureText <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  int maxLines <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>\n  int maxLength<span class="token punctuation">,</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>maxLengthEnforcement<span class="token punctuation">,</span>\n  <span class="token class-name">ToolbarOptions</span><span class="token operator">?</span> toolbarOptions<span class="token punctuation">,</span>\n  <span class="token class-name">ValueChanged</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> onChanged<span class="token punctuation">,</span>\n  <span class="token class-name">VoidCallback</span> onEditingComplete<span class="token punctuation">,</span>\n  <span class="token class-name">ValueChanged</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> onSubmitted<span class="token punctuation">,</span>\n  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TextInputFormatter</span><span class="token punctuation">&gt;</span></span> inputFormatters<span class="token punctuation">,</span>\n  bool enabled<span class="token punctuation">,</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>cursorWidth <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">,</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>cursorRadius<span class="token punctuation">,</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>cursorColor<span class="token punctuation">,</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>onTap<span class="token punctuation">,</span>\n  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>controller</code>ï¼šç¼–è¾‘æ¡†çš„æ§åˆ¶å™¨ï¼Œé€šè¿‡å®ƒå¯ä»¥è®¾ç½®/è·å–ç¼–è¾‘æ¡†çš„å†…å®¹ã€é€‰æ‹©ç¼–è¾‘å†…å®¹ã€ç›‘å¬ç¼–è¾‘æ–‡æœ¬æ”¹å˜äº‹ä»¶ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éƒ½éœ€è¦æ˜¾å¼æä¾›ä¸€ä¸ª<code>controller</code>æ¥ä¸æ–‡æœ¬æ¡†äº¤äº’ã€‚å¦‚æœæ²¡æœ‰æä¾›<code>controller</code>ï¼Œåˆ™<code>TextField</code>å†…éƒ¨ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªã€‚</p></li><li><p><code>focusNode</code>ï¼šç”¨äºæ§åˆ¶<code>TextField</code>æ˜¯å¦å æœ‰å½“å‰é”®ç›˜çš„è¾“å…¥ç„¦ç‚¹ã€‚å®ƒæ˜¯æˆ‘ä»¬å’Œé”®ç›˜äº¤äº’çš„ä¸€ä¸ªå¥æŸ„ï¼ˆhandleï¼‰ã€‚</p></li><li><p><code>InputDecoration</code>ï¼šç”¨äºæ§åˆ¶<code>TextField</code>çš„å¤–è§‚æ˜¾ç¤ºï¼Œå¦‚æç¤ºæ–‡æœ¬ã€èƒŒæ™¯é¢œè‰²ã€è¾¹æ¡†ç­‰ã€‚</p></li><li><p><code>keyboardType</code>ï¼šç”¨äºè®¾ç½®è¯¥è¾“å…¥æ¡†é»˜è®¤çš„é”®ç›˜è¾“å…¥ç±»å‹ï¼Œå–å€¼å¦‚ä¸‹ï¼š</p><table><thead><tr><th>TextInputTypeæšä¸¾å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>text</td><td>æ–‡æœ¬è¾“å…¥é”®ç›˜</td></tr><tr><td>multiline</td><td>å¤šè¡Œæ–‡æœ¬ï¼Œéœ€å’ŒmaxLinesé…åˆä½¿ç”¨(è®¾ä¸ºnullæˆ–å¤§äº1)</td></tr><tr><td>number</td><td>æ•°å­—ï¼›ä¼šå¼¹å‡ºæ•°å­—é”®ç›˜</td></tr><tr><td>phone</td><td>ä¼˜åŒ–åçš„ç”µè¯å·ç è¾“å…¥é”®ç›˜ï¼›ä¼šå¼¹å‡ºæ•°å­—é”®ç›˜å¹¶æ˜¾ç¤ºâ€œ* #â€</td></tr><tr><td>datetime</td><td>ä¼˜åŒ–åçš„æ—¥æœŸè¾“å…¥é”®ç›˜ï¼›Androidä¸Šä¼šæ˜¾ç¤ºâ€œ: -â€</td></tr><tr><td>emailAddress</td><td>ä¼˜åŒ–åçš„ç”µå­é‚®ä»¶åœ°å€ï¼›ä¼šæ˜¾ç¤ºâ€œ@ .â€</td></tr><tr><td>url</td><td>ä¼˜åŒ–åçš„urlè¾“å…¥é”®ç›˜ï¼› ä¼šæ˜¾ç¤ºâ€œ/ .â€</td></tr></tbody></table></li><li><p><code>textInputAction</code>ï¼šé”®ç›˜åŠ¨ä½œæŒ‰é’®å›¾æ ‡(å³å›è½¦é”®ä½å›¾æ ‡)ï¼Œå®ƒæ˜¯ä¸€ä¸ªæšä¸¾å€¼ï¼Œæœ‰å¤šä¸ªå¯é€‰å€¼ï¼Œå…¨éƒ¨çš„å–å€¼åˆ—è¡¨è¯»è€…å¯ä»¥æŸ¥çœ‹APIæ–‡æ¡£ï¼Œä¸‹é¢æ˜¯å½“å€¼ä¸º<code>TextInputAction.search</code>æ—¶ï¼ŒåŸç”ŸAndroidç³»ç»Ÿä¸‹é”®ç›˜æ ·å¼å¦‚å›¾3-18æ‰€ç¤ºï¼š</p><p><img src="'+e+'" alt="å›¾3-18"></p></li><li><p><code>style</code>ï¼šæ­£åœ¨ç¼–è¾‘çš„æ–‡æœ¬æ ·å¼ã€‚</p></li><li><p><code>textAlign</code>: è¾“å…¥æ¡†å†…ç¼–è¾‘æ–‡æœ¬åœ¨æ°´å¹³æ–¹å‘çš„å¯¹é½æ–¹å¼ã€‚</p></li><li><p><code>autofocus</code>: æ˜¯å¦è‡ªåŠ¨è·å–ç„¦ç‚¹ã€‚</p></li><li><p><code>obscureText</code>ï¼šæ˜¯å¦éšè—æ­£åœ¨ç¼–è¾‘çš„æ–‡æœ¬ï¼Œå¦‚ç”¨äºè¾“å…¥å¯†ç çš„åœºæ™¯ç­‰ï¼Œæ–‡æœ¬å†…å®¹ä¼šç”¨â€œâ€¢â€æ›¿æ¢ã€‚</p></li><li><p><code>maxLines</code>ï¼šè¾“å…¥æ¡†çš„æœ€å¤§è¡Œæ•°ï¼Œé»˜è®¤ä¸º1ï¼›å¦‚æœä¸º<code>null</code>ï¼Œåˆ™æ— è¡Œæ•°é™åˆ¶ã€‚</p></li><li><p><code>maxLength</code>å’Œ<code>maxLengthEnforcement</code> ï¼š<code>maxLength</code>ä»£è¡¨è¾“å…¥æ¡†æ–‡æœ¬çš„æœ€å¤§é•¿åº¦ï¼Œè®¾ç½®åè¾“å…¥æ¡†å³ä¸‹è§’ä¼šæ˜¾ç¤ºè¾“å…¥çš„æ–‡æœ¬è®¡æ•°ã€‚<code>maxLengthEnforcement</code>å†³å®šå½“è¾“å…¥æ–‡æœ¬é•¿åº¦è¶…è¿‡<code>maxLength</code>æ—¶å¦‚ä½•å¤„ç†ï¼Œå¦‚æˆªæ–­ã€è¶…å‡ºç­‰ã€‚</p></li><li><p><code>toolbarOptions</code>ï¼šé•¿æŒ‰æˆ–é¼ æ ‡å³å‡»æ—¶å‡ºç°çš„èœå•ï¼ŒåŒ…æ‹¬ copyã€cutã€paste ä»¥åŠ selectAllã€‚</p></li><li><p><code>onChange</code>ï¼šè¾“å…¥æ¡†å†…å®¹æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ï¼›æ³¨ï¼šå†…å®¹æ”¹å˜äº‹ä»¶ä¹Ÿå¯ä»¥é€šè¿‡<code>controller</code>æ¥ç›‘å¬ã€‚</p></li><li><p><code>onEditingComplete</code>å’Œ<code>onSubmitted</code>ï¼šè¿™ä¸¤ä¸ªå›è°ƒéƒ½æ˜¯åœ¨è¾“å…¥æ¡†è¾“å…¥å®Œæˆæ—¶è§¦å‘ï¼Œæ¯”å¦‚æŒ‰äº†é”®ç›˜çš„å®Œæˆé”®ï¼ˆå¯¹å·å›¾æ ‡ï¼‰æˆ–æœç´¢é”®ï¼ˆğŸ”å›¾æ ‡ï¼‰ã€‚ä¸åŒçš„æ˜¯ä¸¤ä¸ªå›è°ƒç­¾åä¸åŒï¼Œ<code>onSubmitted</code>å›è°ƒæ˜¯<code>ValueChanged&lt;String&gt;</code>ç±»å‹ï¼Œå®ƒæ¥æ”¶å½“å‰è¾“å…¥å†…å®¹åšä¸ºå‚æ•°ï¼Œè€Œ<code>onEditingComplete</code>ä¸æ¥æ”¶å‚æ•°ã€‚</p></li><li><p><code>inputFormatters</code>ï¼šç”¨äºæŒ‡å®šè¾“å…¥æ ¼å¼ï¼›å½“ç”¨æˆ·è¾“å…¥å†…å®¹æ”¹å˜æ—¶ï¼Œä¼šæ ¹æ®æŒ‡å®šçš„æ ¼å¼æ¥æ ¡éªŒã€‚</p></li><li><p><code>enable</code>ï¼šå¦‚æœä¸º<code>false</code>ï¼Œåˆ™è¾“å…¥æ¡†ä¼šè¢«ç¦ç”¨ï¼Œç¦ç”¨çŠ¶æ€ä¸æ¥æ”¶è¾“å…¥å’Œäº‹ä»¶ï¼ŒåŒæ—¶æ˜¾ç¤ºç¦ç”¨æ€æ ·å¼ï¼ˆåœ¨å…¶<code>decoration</code>ä¸­å®šä¹‰ï¼‰ã€‚</p></li><li><p><code>cursorWidth</code>ã€<code>cursorRadius</code>å’Œ<code>cursorColor</code>ï¼šè¿™ä¸‰ä¸ªå±æ€§æ˜¯ç”¨äºè‡ªå®šä¹‰è¾“å…¥æ¡†å…‰æ ‡å®½åº¦ã€åœ†è§’å’Œé¢œè‰²çš„ã€‚</p></li></ul><h4 id="ç¤ºä¾‹-ç™»å½•è¾“å…¥æ¡†" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹-ç™»å½•è¾“å…¥æ¡†" aria-hidden="true">#</a> ç¤ºä¾‹ï¼šç™»å½•è¾“å…¥æ¡†</h4><h5 id="å¸ƒå±€" tabindex="-1"><a class="header-anchor" href="#å¸ƒå±€" aria-hidden="true">#</a> å¸ƒå±€</h5><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Column</span><span class="token punctuation">(</span>\n  children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n    <span class="token class-name">TextField</span><span class="token punctuation">(</span>\n      autofocus<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n        labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;ç”¨æˆ·å&quot;</span></span><span class="token punctuation">,</span>\n        hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;ç”¨æˆ·åæˆ–é‚®ç®±&quot;</span></span><span class="token punctuation">,</span>\n        prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>person<span class="token punctuation">)</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token class-name">TextField</span><span class="token punctuation">(</span>\n      decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n        labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;å¯†ç &quot;</span></span><span class="token punctuation">,</span>\n        hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;æ‚¨çš„ç™»å½•å¯†ç &quot;</span></span><span class="token punctuation">,</span>\n        prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>lock<span class="token punctuation">)</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œåï¼Œæ•ˆæœå¦‚å›¾3-19æ‰€ç¤ºï¼š</p><p><img src="'+p+'" alt="å›¾3-19"></p><h5 id="è·å–è¾“å…¥å†…å®¹" tabindex="-1"><a class="header-anchor" href="#è·å–è¾“å…¥å†…å®¹" aria-hidden="true">#</a> è·å–è¾“å…¥å†…å®¹</h5><p>è·å–è¾“å…¥å†…å®¹æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>å®šä¹‰ä¸¤ä¸ªå˜é‡ï¼Œç”¨äºä¿å­˜ç”¨æˆ·åå’Œå¯†ç ï¼Œç„¶ååœ¨<code>onChange</code>è§¦å‘æ—¶ï¼Œå„è‡ªä¿å­˜ä¸€ä¸‹è¾“å…¥å†…å®¹ã€‚</li><li>é€šè¿‡<code>controller</code>ç›´æ¥è·å–ã€‚</li></ol><p>ç¬¬ä¸€ç§æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œä¸åœ¨ä¸¾ä¾‹ï¼Œæˆ‘ä»¬æ¥é‡ç‚¹çœ‹ä¸€ä¸‹ç¬¬äºŒç§æ–¹å¼ï¼Œæˆ‘ä»¬ä»¥ç”¨æˆ·åè¾“å…¥æ¡†ä¸¾ä¾‹ï¼š</p><p>å®šä¹‰ä¸€ä¸ª<code>controller</code>ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token comment">//å®šä¹‰ä¸€ä¸ªcontroller</span>\n<span class="token class-name">TextEditingController</span> _unameController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åè®¾ç½®è¾“å…¥æ¡†controllerï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">TextField</span><span class="token punctuation">(</span>\n    autofocus<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    controller<span class="token punctuation">:</span> _unameController<span class="token punctuation">,</span> <span class="token comment">//è®¾ç½®controller</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡controllerè·å–è¾“å…¥æ¡†å†…å®¹</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token function">print</span><span class="token punctuation">(</span>_unameController<span class="token punctuation">.</span>text<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="ç›‘å¬æ–‡æœ¬å˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ç›‘å¬æ–‡æœ¬å˜åŒ–" aria-hidden="true">#</a> ç›‘å¬æ–‡æœ¬å˜åŒ–</h5><p>ç›‘å¬æ–‡æœ¬å˜åŒ–ä¹Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li><p>è®¾ç½®<code>onChange</code>å›è°ƒï¼Œå¦‚ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">TextField</span><span class="token punctuation">(</span>\n    autofocus<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;onChange: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">v</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>é€šè¿‡<code>controller</code>ç›‘å¬ï¼Œå¦‚ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token metadata function">@override</span>\n<span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token comment">//ç›‘å¬è¾“å…¥æ”¹å˜  </span>\n  _unameController<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token function">print</span><span class="token punctuation">(</span>_unameController<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>ä¸¤ç§æ–¹å¼ç›¸æ¯”ï¼Œ<code>onChanged</code>æ˜¯ä¸“é—¨ç”¨äºç›‘å¬æ–‡æœ¬å˜åŒ–ï¼Œè€Œ<code>controller</code>çš„åŠŸèƒ½å´å¤šä¸€äº›ï¼Œé™¤äº†èƒ½ç›‘å¬æ–‡æœ¬å˜åŒ–å¤–ï¼Œå®ƒè¿˜å¯ä»¥è®¾ç½®é»˜è®¤å€¼ã€é€‰æ‹©æ–‡æœ¬ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><p>åˆ›å»ºä¸€ä¸ª<code>controller</code>:</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">TextEditingController</span> _selectionController <span class="token operator">=</span>  <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è®¾ç½®é»˜è®¤å€¼ï¼Œå¹¶ä»ç¬¬ä¸‰ä¸ªå­—ç¬¦å¼€å§‹é€‰ä¸­åé¢çš„å­—ç¬¦</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code>_selectionController<span class="token punctuation">.</span>text<span class="token operator">=</span><span class="token string-literal"><span class="token string">&quot;hello world!&quot;</span></span><span class="token punctuation">;</span>\n_selectionController<span class="token punctuation">.</span>selection<span class="token operator">=</span><span class="token class-name">TextSelection</span><span class="token punctuation">(</span>\n    baseOffset<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n    extentOffset<span class="token punctuation">:</span> _selectionController<span class="token punctuation">.</span>text<span class="token punctuation">.</span>length\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¾ç½®<code>controlle</code>r:</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">TextField</span><span class="token punctuation">(</span>\n  controller<span class="token punctuation">:</span> _selectionController<span class="token punctuation">,</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæ•ˆæœå¦‚å›¾3-20æ‰€ç¤ºï¼š</p><p><img src="data:image/png;base64,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" alt="å›¾3-20"></p><h5 id="æ§åˆ¶ç„¦ç‚¹" tabindex="-1"><a class="header-anchor" href="#æ§åˆ¶ç„¦ç‚¹" aria-hidden="true">#</a> æ§åˆ¶ç„¦ç‚¹</h5><p>ç„¦ç‚¹å¯ä»¥é€šè¿‡<code>FocusNode</code>å’Œ<code>FocusScopeNode</code>æ¥æ§åˆ¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç„¦ç‚¹ç”±<code>FocusScope</code>æ¥ç®¡ç†ï¼Œå®ƒä»£è¡¨ç„¦ç‚¹æ§åˆ¶èŒƒå›´ï¼Œå¯ä»¥åœ¨è¿™ä¸ªèŒƒå›´å†…å¯ä»¥é€šè¿‡<code>FocusScopeNode</code>åœ¨è¾“å…¥æ¡†ä¹‹é—´ç§»åŠ¨ç„¦ç‚¹ã€è®¾ç½®é»˜è®¤ç„¦ç‚¹ç­‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>FocusScope.of(context)</code> æ¥è·å–Widgetæ ‘ä¸­é»˜è®¤çš„<code>FocusScopeNode</code>ã€‚ä¸‹é¢çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼Œåœ¨æ­¤ç¤ºä¾‹ä¸­åˆ›å»ºä¸¤ä¸ª<code>TextField</code>ï¼Œç¬¬ä¸€ä¸ªè‡ªåŠ¨è·å–ç„¦ç‚¹ï¼Œç„¶ååˆ›å»ºä¸¤ä¸ªæŒ‰é’®ï¼š</p><ul><li>ç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®å¯ä»¥å°†ç„¦ç‚¹ä»ç¬¬ä¸€ä¸ª<code>TextField</code>æŒªåˆ°ç¬¬äºŒä¸ª<code>TextField</code>ã€‚</li><li>ç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®å¯ä»¥å…³é—­é”®ç›˜ã€‚</li></ul><p>æˆ‘ä»¬è¦å®ç°çš„æ•ˆæœå¦‚å›¾3-21æ‰€ç¤ºï¼š</p><p><img src="'+o+'" alt="å›¾3-21"></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">FocusTestRoute</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata function">@override</span>\n  _FocusTestRouteState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_FocusTestRouteState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _FocusTestRouteState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FocusTestRoute</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token class-name">FocusNode</span> focusNode1 <span class="token operator">=</span> <span class="token class-name">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token class-name">FocusNode</span> focusNode2 <span class="token operator">=</span> <span class="token class-name">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token class-name">FocusScopeNode</span><span class="token operator">?</span> focusScopeNode<span class="token punctuation">;</span>\n\n  <span class="token metadata function">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>\n      padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n          <span class="token class-name">TextField</span><span class="token punctuation">(</span>\n            autofocus<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> \n            focusNode<span class="token punctuation">:</span> focusNode1<span class="token punctuation">,</span><span class="token comment">//å…³è”focusNode1</span>\n            decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n                labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;input1&quot;</span></span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">TextField</span><span class="token punctuation">(</span>\n            focusNode<span class="token punctuation">:</span> focusNode2<span class="token punctuation">,</span><span class="token comment">//å…³è”focusNode2</span>\n            decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n                labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;input2&quot;</span></span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">Builder</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n              children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n                <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>\n                  child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;ç§»åŠ¨ç„¦ç‚¹&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    <span class="token comment">//å°†ç„¦ç‚¹ä»ç¬¬ä¸€ä¸ªTextFieldç§»åˆ°ç¬¬äºŒä¸ªTextField</span>\n                    <span class="token comment">// è¿™æ˜¯ä¸€ç§å†™æ³• FocusScope.of(context).requestFocus(focusNode2);</span>\n                    <span class="token comment">// è¿™æ˜¯ç¬¬äºŒç§å†™æ³•</span>\n                    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> focusScopeNode<span class="token punctuation">)</span><span class="token punctuation">{</span>\n                      focusScopeNode <span class="token operator">=</span> <span class="token class-name">FocusScope</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    <span class="token punctuation">}</span>\n                    focusScopeNode<span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span>focusNode2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>\n                  child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;éšè—é”®ç›˜&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    <span class="token comment">// å½“æ‰€æœ‰ç¼–è¾‘æ¡†éƒ½å¤±å»ç„¦ç‚¹æ—¶é”®ç›˜å°±ä¼šæ”¶èµ·  </span>\n                    focusNode1<span class="token punctuation">.</span><span class="token function">unfocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                    focusNode2<span class="token punctuation">.</span><span class="token function">unfocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                <span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>FocusNode</code>å’Œ<code>FocusScopeNode</code>è¿˜æœ‰ä¸€äº›å…¶å®ƒçš„æ–¹æ³•ï¼Œè¯¦æƒ…å¯ä»¥æŸ¥çœ‹APIæ–‡æ¡£ã€‚</p><h5 id="ç›‘å¬ç„¦ç‚¹çŠ¶æ€æ”¹å˜äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#ç›‘å¬ç„¦ç‚¹çŠ¶æ€æ”¹å˜äº‹ä»¶" aria-hidden="true">#</a> ç›‘å¬ç„¦ç‚¹çŠ¶æ€æ”¹å˜äº‹ä»¶</h5><p><code>FocusNode</code>ç»§æ‰¿è‡ª<code>ChangeNotifier</code>ï¼Œé€šè¿‡<code>FocusNode</code>å¯ä»¥ç›‘å¬ç„¦ç‚¹çš„æ”¹å˜äº‹ä»¶ï¼Œå¦‚ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token comment">// åˆ›å»º focusNode   </span>\n<span class="token class-name">FocusNode</span> focusNode <span class="token operator">=</span> <span class="token class-name">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token comment">// focusNodeç»‘å®šè¾“å…¥æ¡†   </span>\n<span class="token class-name">TextField</span><span class="token punctuation">(</span>focusNode<span class="token punctuation">:</span> focusNode<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token comment">// ç›‘å¬ç„¦ç‚¹å˜åŒ–    </span>\nfocusNode<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n   <span class="token function">print</span><span class="token punctuation">(</span>focusNode<span class="token punctuation">.</span>hasFocus<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è·å¾—ç„¦ç‚¹æ—¶<code>focusNode.hasFocus</code>å€¼ä¸º<code>true</code>ï¼Œå¤±å»ç„¦ç‚¹æ—¶ä¸º<code>false</code>ã€‚</p><h5 id="è‡ªå®šä¹‰æ ·å¼" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æ ·å¼" aria-hidden="true">#</a> è‡ªå®šä¹‰æ ·å¼</h5><p>è™½ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>decoration</code>å±æ€§æ¥å®šä¹‰è¾“å…¥æ¡†æ ·å¼ï¼Œä¸‹é¢ä»¥è‡ªå®šä¹‰è¾“å…¥æ¡†ä¸‹åˆ’çº¿é¢œè‰²ä¸ºä¾‹æ¥ä»‹ç»ä¸€ä¸‹ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">TextField</span><span class="token punctuation">(</span>\n  decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n    labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span></span><span class="token punctuation">,</span>\n    prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>person<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token comment">// æœªè·å¾—ç„¦ç‚¹ä¸‹åˆ’çº¿è®¾ä¸ºç°è‰²</span>\n    enabledBorder<span class="token punctuation">:</span> <span class="token class-name">UnderlineInputBorder</span><span class="token punctuation">(</span>\n      borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token comment">//è·å¾—ç„¦ç‚¹ä¸‹åˆ’çº¿è®¾ä¸ºè“è‰²</span>\n    focusedBorder<span class="token punctuation">:</span> <span class="token class-name">UnderlineInputBorder</span><span class="token punctuation">(</span>\n      borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç æˆ‘ä»¬ç›´æ¥é€šè¿‡InputDecorationçš„enabledBorderå’ŒfocusedBorderæ¥åˆ†åˆ«è®¾ç½®äº†è¾“å…¥æ¡†åœ¨æœªè·å–ç„¦ç‚¹å’Œè·å¾—ç„¦ç‚¹åçš„ä¸‹åˆ’çº¿é¢œè‰²ã€‚å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¸»é¢˜æ¥è‡ªå®šä¹‰è¾“å…¥æ¡†çš„æ ·å¼ï¼Œä¸‹é¢æˆ‘ä»¬æ¢ç´¢ä¸€ä¸‹å¦‚ä½•åœ¨ä¸ä½¿ç”¨enabledBorderå’ŒfocusedBorderçš„æƒ…å†µä¸‹æ¥è‡ªå®šä¹‰ä¸‹æ»‘çº¿é¢œè‰²ã€‚</p><p>ç”±äº<code>TextField</code>åœ¨ç»˜åˆ¶ä¸‹åˆ’çº¿æ—¶ä½¿ç”¨çš„é¢œè‰²æ˜¯ä¸»é¢˜è‰²é‡Œé¢çš„<code>hintColor</code>ï¼Œä½†æç¤ºæ–‡æœ¬é¢œè‰²ä¹Ÿæ˜¯ç”¨çš„<code>hintColor</code>ï¼Œ å¦‚æœæˆ‘ä»¬ç›´æ¥ä¿®æ”¹<code>hintColor</code>ï¼Œé‚£ä¹ˆä¸‹åˆ’çº¿å’Œæç¤ºæ–‡æœ¬çš„é¢œè‰²éƒ½ä¼šå˜ã€‚å€¼å¾—é«˜å…´çš„æ˜¯<code>decoration</code>ä¸­å¯ä»¥è®¾ç½®<code>hintStyle</code>ï¼Œå®ƒå¯ä»¥è¦†ç›–<code>hintColor</code>ï¼Œå¹¶ä¸”ä¸»é¢˜ä¸­å¯ä»¥é€šè¿‡<code>inputDecorationTheme</code>æ¥è®¾ç½®è¾“å…¥æ¡†é»˜è®¤çš„<code>decoration</code>ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸»é¢˜æ¥è‡ªå®šä¹‰ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Theme</span><span class="token punctuation">(</span>\n  data<span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>\n      hintColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//å®šä¹‰ä¸‹åˆ’çº¿é¢œè‰²</span>\n      inputDecorationTheme<span class="token punctuation">:</span> <span class="token class-name">InputDecorationTheme</span><span class="token punctuation">(</span>\n          labelStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//å®šä¹‰labelå­—ä½“æ ·å¼</span>\n          hintStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">14.0</span><span class="token punctuation">)</span><span class="token comment">//å®šä¹‰æç¤ºæ–‡æœ¬æ ·å¼</span>\n      <span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n    children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n      <span class="token class-name">TextField</span><span class="token punctuation">(</span>\n        decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n            labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;ç”¨æˆ·å&quot;</span></span><span class="token punctuation">,</span>\n            hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;ç”¨æˆ·åæˆ–é‚®ç®±&quot;</span></span><span class="token punctuation">,</span>\n            prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>person<span class="token punctuation">)</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token class-name">TextField</span><span class="token punctuation">(</span>\n        decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n            prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>lock<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;å¯†ç &quot;</span></span><span class="token punctuation">,</span>\n            hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;æ‚¨çš„ç™»å½•å¯†ç &quot;</span></span><span class="token punctuation">,</span>\n            hintStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">13.0</span><span class="token punctuation">)</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæ•ˆæœå¦‚å›¾3-22æ‰€ç¤ºï¼š</p><p><img src="'+c+'" alt="å›¾3-22"></p><p>æˆ‘ä»¬æˆåŠŸçš„è‡ªå®šä¹‰äº†ä¸‹åˆ’çº¿é¢œè‰²å’Œæé—®æ–‡å­—æ ·å¼ï¼Œç»†å¿ƒçš„è¯»è€…å¯èƒ½å·²ç»å‘ç°ï¼Œé€šè¿‡è¿™ç§æ–¹å¼è‡ªå®šä¹‰åï¼Œè¾“å…¥æ¡†åœ¨è·å–ç„¦ç‚¹æ—¶ï¼Œ<code>labelText</code>ä¸ä¼šé«˜äº®æ˜¾ç¤ºäº†ï¼Œæ­£å¦‚ä¸Šå›¾ä¸­çš„&quot;ç”¨æˆ·å&quot;æœ¬åº”è¯¥æ˜¾ç¤ºè“è‰²ï¼Œä½†ç°åœ¨å´æ˜¾ç¤ºä¸ºç°è‰²ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜æ˜¯æ— æ³•å®šä¹‰ä¸‹åˆ’çº¿å®½åº¦ã€‚å¦ä¸€ç§çµæ´»çš„æ–¹å¼æ˜¯ç›´æ¥éšè—æ‰<code>TextField</code>æœ¬èº«çš„ä¸‹åˆ’çº¿ï¼Œç„¶åé€šè¿‡<code>Container</code>å»åµŒå¥—å®šä¹‰æ ·å¼ï¼Œå¦‚:</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Container</span><span class="token punctuation">(</span>\n  child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>\n    keyboardType<span class="token punctuation">:</span> <span class="token class-name">TextInputType</span><span class="token punctuation">.</span>emailAddress<span class="token punctuation">,</span>\n    decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n        labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Email&quot;</span></span><span class="token punctuation">,</span>\n        hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;ç”µå­é‚®ä»¶åœ°å€&quot;</span></span><span class="token punctuation">,</span>\n        prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">,</span>\n        border<span class="token punctuation">:</span> <span class="token class-name">InputBorder</span><span class="token punctuation">.</span>none <span class="token comment">//éšè—ä¸‹åˆ’çº¿</span>\n    <span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n  decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>\n      <span class="token comment">// ä¸‹æ»‘çº¿æµ…ç°è‰²ï¼Œå®½åº¦1åƒç´ </span>\n      border<span class="token punctuation">:</span> <span class="token class-name">Border</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œæ•ˆæœå¦‚å›¾3-23ï¼š</p><p><img src="'+l+'" alt="3-23"></p><p>é€šè¿‡è¿™ç§ç»„ä»¶ç»„åˆçš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥å®šä¹‰èƒŒæ™¯åœ†è§’ç­‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¼˜å…ˆé€šè¿‡<code>decoration</code>æ¥è‡ªå®šä¹‰æ ·å¼ï¼Œå¦‚æœ<code>decoration</code>å®ç°ä¸äº†ï¼Œå†ç”¨widgetç»„åˆçš„æ–¹å¼ã€‚</p><blockquote><p>æ€è€ƒé¢˜ï¼šåœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œä¸‹åˆ’çº¿é¢œè‰²æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥è·å¾—ç„¦ç‚¹åé¢œè‰²ä»ç„¶ä¸ºç°è‰²ï¼Œå¦‚ä½•å®ç°ç‚¹å‡»åä¸‹æ»‘çº¿ä¹Ÿå˜è‰²å‘¢ï¼Ÿ</p></blockquote><h2 id="_3-5-2-è¡¨å•form" tabindex="-1"><a class="header-anchor" href="#_3-5-2-è¡¨å•form" aria-hidden="true">#</a> 3.5.2 è¡¨å•Form</h2><p>å®é™…ä¸šåŠ¡ä¸­ï¼Œåœ¨æ­£å¼å‘æœåŠ¡å™¨æäº¤æ•°æ®å‰ï¼Œéƒ½ä¼šå¯¹å„ä¸ªè¾“å…¥æ¡†æ•°æ®è¿›è¡Œåˆæ³•æ€§æ ¡éªŒï¼Œä½†æ˜¯å¯¹æ¯ä¸€ä¸ª<code>TextField</code>éƒ½åˆ†åˆ«è¿›è¡Œæ ¡éªŒå°†ä¼šæ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹ã€‚è¿˜æœ‰ï¼Œå¦‚æœç”¨æˆ·æƒ³æ¸…é™¤ä¸€ç»„<code>TextField</code>çš„å†…å®¹ï¼Œé™¤äº†ä¸€ä¸ªä¸€ä¸ªæ¸…é™¤æœ‰æ²¡æœ‰ä»€ä¹ˆæ›´å¥½çš„åŠæ³•å‘¢ï¼Ÿä¸ºæ­¤ï¼ŒFlutteræä¾›äº†ä¸€ä¸ª<code>Form</code> ç»„ä»¶ï¼Œå®ƒå¯ä»¥å¯¹è¾“å…¥æ¡†è¿›è¡Œåˆ†ç»„ï¼Œç„¶åè¿›è¡Œä¸€äº›ç»Ÿä¸€æ“ä½œï¼Œå¦‚è¾“å…¥å†…å®¹æ ¡éªŒã€è¾“å…¥æ¡†é‡ç½®ä»¥åŠè¾“å…¥å†…å®¹ä¿å­˜ã€‚</p><h4 id="form" tabindex="-1"><a class="header-anchor" href="#form" aria-hidden="true">#</a> Form</h4><p><code>Form</code>ç»§æ‰¿è‡ª<code>StatefulWidget</code>å¯¹è±¡ï¼Œå®ƒå¯¹åº”çš„çŠ¶æ€ç±»ä¸º<code>FormState</code>ã€‚æˆ‘ä»¬å…ˆçœ‹çœ‹<code>Form</code>ç±»çš„å®šä¹‰ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Form</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  required <span class="token class-name">Widget</span> child<span class="token punctuation">,</span>\n  bool autovalidate <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token class-name">WillPopCallback</span> onWillPop<span class="token punctuation">,</span>\n  <span class="token class-name">VoidCallback</span> onChanged<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>autovalidate</code>ï¼šæ˜¯å¦è‡ªåŠ¨æ ¡éªŒè¾“å…¥å†…å®¹ï¼›å½“ä¸º<code>true</code>æ—¶ï¼Œæ¯ä¸€ä¸ªå­ FormField å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶éƒ½ä¼šè‡ªåŠ¨æ ¡éªŒåˆæ³•æ€§ï¼Œå¹¶ç›´æ¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚å¦åˆ™ï¼Œéœ€è¦é€šè¿‡è°ƒç”¨<code>FormState.validate()</code>æ¥æ‰‹åŠ¨æ ¡éªŒã€‚</li><li><code>onWillPop</code>ï¼šå†³å®š<code>Form</code>æ‰€åœ¨çš„è·¯ç”±æ˜¯å¦å¯ä»¥ç›´æ¥è¿”å›ï¼ˆå¦‚ç‚¹å‡»è¿”å›æŒ‰é’®ï¼‰ï¼Œè¯¥å›è°ƒè¿”å›ä¸€ä¸ª<code>Future</code>å¯¹è±¡ï¼Œå¦‚æœ Future çš„æœ€ç»ˆç»“æœæ˜¯<code>false</code>ï¼Œåˆ™å½“å‰è·¯ç”±ä¸ä¼šè¿”å›ï¼›å¦‚æœä¸º<code>true</code>ï¼Œåˆ™ä¼šè¿”å›åˆ°ä¸Šä¸€ä¸ªè·¯ç”±ã€‚æ­¤å±æ€§é€šå¸¸ç”¨äºæ‹¦æˆªè¿”å›æŒ‰é’®ã€‚</li><li><code>onChanged</code>ï¼š<code>Form</code>çš„ä»»æ„ä¸€ä¸ªå­<code>FormField</code>å†…å®¹å‘ç”Ÿå˜åŒ–æ—¶ä¼šè§¦å‘æ­¤å›è°ƒã€‚</li></ul><h4 id="formfield" tabindex="-1"><a class="header-anchor" href="#formfield" aria-hidden="true">#</a> FormField</h4><p><code>Form</code>çš„å­å­™å…ƒç´ å¿…é¡»æ˜¯<code>FormField</code>ç±»å‹ï¼Œ<code>FormField</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®šä¹‰å‡ ä¸ªå±æ€§ï¼Œ<code>FormState</code>å†…éƒ¨é€šè¿‡å®ƒä»¬æ¥å®Œæˆæ“ä½œï¼Œ<code>FormField</code>éƒ¨åˆ†å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">FormField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n  <span class="token class-name">FormFieldSetter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> onSaved<span class="token punctuation">,</span> <span class="token comment">//ä¿å­˜å›è°ƒ</span>\n  <span class="token class-name">FormFieldValidator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span>  validator<span class="token punctuation">,</span> <span class="token comment">//éªŒè¯å›è°ƒ</span>\n  <span class="token class-name">T</span> initialValue<span class="token punctuation">,</span> <span class="token comment">//åˆå§‹å€¼</span>\n  bool autovalidate <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//æ˜¯å¦è‡ªåŠ¨æ ¡éªŒã€‚</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼ŒFlutter æä¾›äº†ä¸€ä¸ª<code>TextFormField</code>ç»„ä»¶ï¼Œå®ƒç»§æ‰¿è‡ª<code>FormField</code>ç±»ï¼Œä¹Ÿæ˜¯<code>TextField</code>çš„ä¸€ä¸ªåŒ…è£…ç±»ï¼Œæ‰€ä»¥é™¤äº†<code>FormField</code>å®šä¹‰çš„å±æ€§ä¹‹å¤–ï¼Œå®ƒè¿˜åŒ…æ‹¬<code>TextField</code>çš„å±æ€§ã€‚</p><h4 id="formstate" tabindex="-1"><a class="header-anchor" href="#formstate" aria-hidden="true">#</a> FormState</h4><p><code>FormState</code>ä¸º<code>Form</code>çš„<code>State</code>ç±»ï¼Œå¯ä»¥é€šè¿‡<code>Form.of()</code>æˆ–<code>GlobalKey</code>è·å¾—ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥å¯¹<code>Form</code>çš„å­å­™<code>FormField</code>è¿›è¡Œç»Ÿä¸€æ“ä½œã€‚æˆ‘ä»¬çœ‹çœ‹å…¶å¸¸ç”¨çš„ä¸‰ä¸ªæ–¹æ³•ï¼š</p><ul><li><code>FormState.validate()</code>ï¼šè°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šè°ƒç”¨<code>Form</code>å­å­™<code>FormFieldçš„validate</code>å›è°ƒï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ ¡éªŒå¤±è´¥ï¼Œåˆ™è¿”å›falseï¼Œæ‰€æœ‰æ ¡éªŒå¤±è´¥é¡¹éƒ½ä¼šè¿”å›ç”¨æˆ·è¿”å›çš„é”™è¯¯æç¤ºã€‚</li><li><code>FormState.save()</code>ï¼šè°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šè°ƒç”¨<code>Form</code>å­å­™<code>FormField</code>çš„<code>save</code>å›è°ƒï¼Œç”¨äºä¿å­˜è¡¨å•å†…å®¹</li><li><code>FormState.reset()</code>ï¼šè°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šå°†å­å­™<code>FormField</code>çš„å†…å®¹æ¸…ç©ºã€‚</li></ul><h4 id="ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹" aria-hidden="true">#</a> ç¤ºä¾‹</h4><p>æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢ç”¨æˆ·ç™»å½•çš„ç¤ºä¾‹ï¼Œåœ¨æäº¤ä¹‹å‰æ ¡éªŒï¼š</p><ol><li>ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™æç¤ºâ€œç”¨æˆ·åä¸èƒ½ä¸ºç©ºâ€ã€‚</li><li>å¯†ç ä¸èƒ½å°äº 6 ä½ï¼Œå¦‚æœå°äº 6 ä¸ºåˆ™æç¤ºâ€œå¯†ç ä¸èƒ½å°‘äº 6 ä½â€ã€‚</li></ol><p>å®Œæ•´ä»£ç ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/material.dart&#39;</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">FormTestRoute</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata function">@override</span>\n  _FormTestRouteState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_FormTestRouteState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _FormTestRouteState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormTestRoute</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  <span class="token class-name">TextEditingController</span> _unameController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token class-name">TextEditingController</span> _pwdController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token class-name">GlobalKey</span> _formKey <span class="token operator">=</span> <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata function">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Form</span><span class="token punctuation">(</span>\n      key<span class="token punctuation">:</span> _formKey<span class="token punctuation">,</span> <span class="token comment">//è®¾ç½®globalKeyï¼Œç”¨äºåé¢è·å–FormState</span>\n      autovalidateMode<span class="token punctuation">:</span> <span class="token class-name">AutovalidateMode</span><span class="token punctuation">.</span>onUserInteraction<span class="token punctuation">,</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n          <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>\n            autofocus<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n            controller<span class="token punctuation">:</span> _unameController<span class="token punctuation">,</span>\n            decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n              labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;ç”¨æˆ·å&quot;</span></span><span class="token punctuation">,</span>\n              hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;ç”¨æˆ·åæˆ–é‚®ç®±&quot;</span></span><span class="token punctuation">,</span>\n              icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>person<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token comment">// æ ¡éªŒç”¨æˆ·å</span>\n            validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">return</span> v<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>isNotEmpty <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;</span></span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>\n            controller<span class="token punctuation">:</span> _pwdController<span class="token punctuation">,</span>\n            decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>\n              labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;å¯†ç &quot;</span></span><span class="token punctuation">,</span>\n              hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;æ‚¨çš„ç™»å½•å¯†ç &quot;</span></span><span class="token punctuation">,</span>\n              icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>lock<span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n            <span class="token comment">//æ ¡éªŒå¯†ç </span>\n            validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">return</span> v<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;å¯†ç ä¸èƒ½å°‘äº6ä½&quot;</span></span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token comment">// ç™»å½•æŒ‰é’®</span>\n          <span class="token class-name">Padding</span><span class="token punctuation">(</span>\n            padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">28.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            child<span class="token punctuation">:</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>\n              children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n                <span class="token class-name">Expanded</span><span class="token punctuation">(</span>\n                  child<span class="token punctuation">:</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>\n                    child<span class="token punctuation">:</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>\n                      padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                      child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;ç™»å½•&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                    <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                      <span class="token comment">// é€šè¿‡_formKey.currentState è·å–FormStateåï¼Œ</span>\n                      <span class="token comment">// è°ƒç”¨validate()æ–¹æ³•æ ¡éªŒç”¨æˆ·åå¯†ç æ˜¯å¦åˆæ³•ï¼Œæ ¡éªŒ</span>\n                      <span class="token comment">// é€šè¿‡åå†æäº¤æ•°æ®ã€‚</span>\n                      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>_formKey<span class="token punctuation">.</span>currentState <span class="token operator">as</span> <span class="token class-name">FormState</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                        <span class="token comment">//éªŒè¯é€šè¿‡æäº¤æ•°æ®</span>\n                      <span class="token punctuation">}</span>\n                    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token punctuation">)</span><span class="token punctuation">,</span>\n              <span class="token punctuation">]</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œåæ•ˆæœå¦‚å›¾3-24æ‰€ç¤ºï¼š</p><p><img src="'+i+'" alt="å›¾3-24"></p><p>æ³¨æ„ï¼Œç™»å½•æŒ‰é’®çš„<code>onPressed</code>æ–¹æ³•ä¸­ä¸èƒ½é€šè¿‡<code>Form.of(context)</code>æ¥è·å–<code>FormState</code>ï¼ŒåŸå› æ˜¯ï¼Œæ­¤å¤„çš„<code>context</code>ä¸º<code>FormTestRoute</code>çš„contextï¼Œè€Œ<code>Form.of(context)</code>æ˜¯æ ¹æ®æ‰€æŒ‡å®š<code>context</code>å‘æ ¹å»æŸ¥æ‰¾ï¼Œè€Œ<code>FormState</code>æ˜¯åœ¨<code>FormTestRoute</code>çš„å­æ ‘ä¸­ï¼Œæ‰€ä»¥ä¸è¡Œã€‚æ­£ç¡®çš„åšæ³•æ˜¯é€šè¿‡<code>Builder</code>æ¥æ„å»ºç™»å½•æŒ‰é’®ï¼Œ<code>Builder</code>ä¼šå°†<code>widget</code>èŠ‚ç‚¹çš„<code>context</code>ä½œä¸ºå›è°ƒå‚æ•°ï¼š</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Expanded</span><span class="token punctuation">(</span>\n <span class="token comment">// é€šè¿‡Builderæ¥è·å–ElevatedButtonæ‰€åœ¨widgetæ ‘çš„çœŸæ­£context(Element) </span>\n  child<span class="token punctuation">:</span><span class="token class-name">Builder</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>\n      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token comment">//ç”±äºæœ¬widgetä¹Ÿæ˜¯Formçš„å­ä»£widgetï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹å¼è·å–FormState  </span>\n        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">Form</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n          <span class="token comment">//éªŒè¯é€šè¿‡æäº¤æ•°æ®</span>\n        <span class="token punctuation">}</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®<code>context</code>æ­£æ˜¯æ“ä½œWidgetæ‰€å¯¹åº”çš„<code>Element</code>çš„ä¸€ä¸ªæ¥å£ï¼Œç”±äºWidgetæ ‘å¯¹åº”çš„<code>Element</code>éƒ½æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥<code>context</code>ä¹Ÿéƒ½æ˜¯ä¸åŒçš„ï¼Œæœ‰å…³<code>context</code>çš„æ›´å¤šå†…å®¹ä¼šåœ¨åé¢é«˜çº§éƒ¨åˆ†è¯¦ç»†è®¨è®ºã€‚Flutterä¸­æœ‰å¾ˆå¤šâ€œof(context)â€è¿™ç§æ–¹æ³•ï¼Œè¯»è€…åœ¨ä½¿ç”¨æ—¶ä¸€å®šè¦æ³¨æ„<code>context</code>æ˜¯å¦æ­£ç¡®ã€‚</p>',82)],d={},r=(0,a(18580).Z)(d,[["render",function(n,s){return(0,t.wg)(),(0,t.iD)("div",null,u)}]])},18580:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,t]of s)a[n]=t;return a}}}]);