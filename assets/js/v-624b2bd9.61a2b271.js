"use strict";(self.webpackChunkflutter_docs=self.webpackChunkflutter_docs||[]).push([[5774],{54868:(n,s,a)=>{a.r(s),a.d(s,{data:()=>t});const t=JSON.parse('{"key":"v-624b2bd9","path":"/chapter5/material_scaffold.html","title":"5.7 Scaffold","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"5.7.1 Scaffold","slug":"_5-7-1-scaffold","link":"#_5-7-1-scaffold","children":[{"level":3,"title":"示例","slug":"示例","link":"#示例","children":[]}]},{"level":2,"title":"5.7.2 AppBar","slug":"_5-7-2-appbar","link":"#_5-7-2-appbar","children":[]},{"level":2,"title":"5.7.3 抽屉菜单Drawer","slug":"_5-7-3-抽屉菜单drawer","link":"#_5-7-3-抽屉菜单drawer","children":[]},{"level":2,"title":"5.7.4 FloatingActionButton","slug":"_5-7-4-floatingactionbutton","link":"#_5-7-4-floatingactionbutton","children":[]},{"level":2,"title":"5.7.5  底部Tab导航栏","slug":"_5-7-5-底部tab导航栏","link":"#_5-7-5-底部tab导航栏","children":[]},{"level":2,"title":"5.7.6 页面 body","slug":"_5-7-6-页面-body","link":"#_5-7-6-页面-body","children":[]}],"git":{"createdTime":1654491188000,"updatedTime":1654491188000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":1}]},"readingTime":{"minutes":5.77,"words":1730},"filePathRelative":"chapter5/material_scaffold.md","localizedDate":"2022年6月6日","excerpt":""}')},63260:(n,s,a)=>{a.r(s),a.d(s,{default:()=>i});var t=a(6808);const p=a.p+"assets/img/5-18.c424c33b.png",e=a.p+"assets/img/5-19.451cd41e.png",c=a.p+"assets/img/5-21.53cd6892.png",o=[(0,t.uE)('<h1 id="_5-7-scaffold" tabindex="-1"><a class="header-anchor" href="#_5-7-scaffold" aria-hidden="true">#</a> 5.7 Scaffold</h1><p>Material 组件库提供了丰富多样的组件，本节介绍一下最常用的 Scaffold 组件，其余的读者可以自行查看文档或 Flutter Gallery 中 Material 组件部分的示例。</p><blockquote><p>Flutter Gallery是Flutter官方提供的Flutter Demo，源码位于flutter源码中的examples目录下，笔者强烈建议用户将Flutter Gallery示例跑起来，它是一个很全面的Flutter示例应用，是非常好的参考Demo，也是笔者学习Flutter的第一手资料。</p></blockquote><h2 id="_5-7-1-scaffold" tabindex="-1"><a class="header-anchor" href="#_5-7-1-scaffold" aria-hidden="true">#</a> 5.7.1 Scaffold</h2><p>一个完整的路由页可能会包含导航栏、抽屉菜单(Drawer)以及底部 Tab 导航菜单等。如果每个路由页面都需要开发者自己手动去实现这些，这会是一件非常麻烦且无聊的事。幸运的是，Flutter Material 组件库提供了一些现成的组件来减少我们的开发任务。<code>Scaffold</code> 是一个路由页的骨架，我们使用它可以很容易地拼装出一个完整的页面。</p><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h3><p>我们实现一个页面，它包含：</p><ol><li>一个导航栏</li><li>导航栏右边有一个分享按钮</li><li>有一个抽屉菜单</li><li>有一个底部导航</li><li>右下角有一个悬浮的动作按钮</li></ol><p>最终效果如图5-18、图5-19所示：</p><p><img src="'+p+'" alt="图5-18"> <img src="'+e+'" alt="图5-19"></p><p>实现代码如下：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">ScaffoldRoute</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata function">@override</span>\n  _ScaffoldRouteState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_ScaffoldRouteState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _ScaffoldRouteState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ScaffoldRoute</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>\n  int _selectedIndex <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n\n  <span class="token metadata function">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span> <span class="token comment">//导航栏</span>\n        title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;App Name&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> \n        actions<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span> <span class="token comment">//导航栏右侧菜单</span>\n          <span class="token class-name">IconButton</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>share<span class="token punctuation">)</span><span class="token punctuation">,</span> onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      drawer<span class="token punctuation">:</span> <span class="token class-name">MyDrawer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//抽屉</span>\n      bottomNavigationBar<span class="token punctuation">:</span> <span class="token class-name">BottomNavigationBar</span><span class="token punctuation">(</span> <span class="token comment">// 底部导航</span>\n        items<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n          <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>home<span class="token punctuation">)</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Home&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>business<span class="token punctuation">)</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Business&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token class-name">BottomNavigationBarItem</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>school<span class="token punctuation">)</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;School&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        currentIndex<span class="token punctuation">:</span> _selectedIndex<span class="token punctuation">,</span>\n        fixedColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>\n        onTap<span class="token punctuation">:</span> _onItemTapped<span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      floatingActionButton<span class="token punctuation">:</span> <span class="token class-name">FloatingActionButton</span><span class="token punctuation">(</span> <span class="token comment">//悬浮按钮</span>\n          child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">,</span>\n          onPressed<span class="token punctuation">:</span>_onAdd\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">void</span> <span class="token function">_onItemTapped</span><span class="token punctuation">(</span>int index<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      _selectedIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">void</span> <span class="token function">_onAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面代码中我们用到了如下组件：</p><table><thead><tr><th>组件名称</th><th>解释</th></tr></thead><tbody><tr><td>AppBar</td><td>一个导航栏骨架</td></tr><tr><td>MyDrawer</td><td>抽屉菜单</td></tr><tr><td>BottomNavigationBar</td><td>底部导航栏</td></tr><tr><td>FloatingActionButton</td><td>漂浮按钮</td></tr></tbody></table><p>下面我们来分别介绍一下它们。</p><h2 id="_5-7-2-appbar" tabindex="-1"><a class="header-anchor" href="#_5-7-2-appbar" aria-hidden="true">#</a> 5.7.2 AppBar</h2><p><code>AppBar</code>是一个Material风格的导航栏，通过它可以设置导航栏标题、导航栏菜单、导航栏底部的Tab标题等。下面我们看看AppBar的定义：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">AppBar</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>leading<span class="token punctuation">,</span> <span class="token comment">//导航栏最左侧Widget，常见为抽屉菜单按钮或返回按钮。</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>automaticallyImplyLeading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//如果leading为null，是否自动实现默认的leading按钮</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span><span class="token comment">// 页面标题</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>actions<span class="token punctuation">,</span> <span class="token comment">// 导航栏右侧菜单</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> <span class="token comment">// 导航栏底部菜单，通常为Tab按钮组</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>elevation <span class="token operator">=</span> <span class="token number">4.0</span><span class="token punctuation">,</span> <span class="token comment">// 导航栏阴影</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>centerTitle<span class="token punctuation">,</span> <span class="token comment">//标题是否居中 </span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span>\n  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token comment">//其它属性见源码注释</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果给<code>Scaffold</code>添加了抽屉菜单，默认情况下<code>Scaffold</code>会自动将<code>AppBar</code>的<code>leading</code>设置为菜单按钮（如上面截图所示），点击它便可打开抽屉菜单。如果我们想自定义菜单图标，可以手动来设置<code>leading</code>，如：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">Scaffold</span><span class="token punctuation">(</span>\n  appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>\n    title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;App Name&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    leading<span class="token punctuation">:</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token class-name">IconButton</span><span class="token punctuation">(</span>\n        icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>dashboard<span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//自定义图标</span>\n        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n          <span class="token comment">// 打开抽屉菜单  </span>\n          <span class="token class-name">Scaffold</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openDrawer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> \n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  \n  <span class="token punctuation">)</span>  \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>代码运行效果如图5-20所示：</p><p><img src="data:image/png;base64,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" alt="图5-20"></p><p>可以看到左侧菜单已经替换成功。</p><p>代码中打开抽屉菜单的方法在<code>ScaffoldState</code>中，通过<code>Scaffold.of(context)</code>可以获取父级最近的<code>Scaffold</code> 组件的<code>State</code>对象。</p><h2 id="_5-7-3-抽屉菜单drawer" tabindex="-1"><a class="header-anchor" href="#_5-7-3-抽屉菜单drawer" aria-hidden="true">#</a> 5.7.3 抽屉菜单Drawer</h2><p><code>Scaffold</code>的<code>drawer</code>和<code>endDrawer</code>属性可以分别接受一个Widget来作为页面的左、右抽屉菜单。如果开发者提供了抽屉菜单，那么当用户手指从屏幕左（或右）侧向里滑动时便可打开抽屉菜单。本节开始部分的示例中实现了一个左抽屉菜单<code>MyDrawer</code>，它的源码如下：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">MyDrawer</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> <span class="token class-name">MyDrawer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token metadata function">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">Drawer</span><span class="token punctuation">(</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">removePadding</span><span class="token punctuation">(</span>\n        context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>\n        <span class="token comment">//移除抽屉菜单顶部默认留白</span>\n        removeTop<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n          crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>\n          children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n            <span class="token class-name">Padding</span><span class="token punctuation">(</span>\n              padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">38.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n              child<span class="token punctuation">:</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>\n                children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n                  <span class="token class-name">Padding</span><span class="token punctuation">(</span>\n                    padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                    child<span class="token punctuation">:</span> <span class="token class-name">ClipOval</span><span class="token punctuation">(</span>\n                      child<span class="token punctuation">:</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span>\n                        <span class="token string-literal"><span class="token string">&quot;imgs/avatar.png&quot;</span></span><span class="token punctuation">,</span>\n                        width<span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">,</span>\n                      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                    <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token class-name">Text</span><span class="token punctuation">(</span>\n                    <span class="token string-literal"><span class="token string">&quot;Wendux&quot;</span></span><span class="token punctuation">,</span>\n                    style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span>\n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n              <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token class-name">Expanded</span><span class="token punctuation">(</span>\n              child<span class="token punctuation">:</span> <span class="token class-name">ListView</span><span class="token punctuation">(</span>\n                children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n                  <span class="token class-name">ListTile</span><span class="token punctuation">(</span>\n                    leading<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">,</span>\n                    title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Add account&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token class-name">ListTile</span><span class="token punctuation">(</span>\n                    leading<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>settings<span class="token punctuation">)</span><span class="token punctuation">,</span>\n                    title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&#39;Manage accounts&#39;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n                  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n              <span class="token punctuation">)</span><span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>抽屉菜单通常将<code>Drawer</code>组件作为根节点，它实现了Material风格的菜单面板，<code>MediaQuery.removePadding</code>可以移除Drawer默认的一些留白（比如Drawer默认顶部会留和手机状态栏等高的留白），读者可以尝试传递不同的参数来看看实际效果。抽屉菜单页由顶部和底部组成，顶部由用户头像和昵称组成，底部是一个菜单列表，用ListView实现，关于ListView我们将在后面“可滚动组件”一节详细介绍。</p><h2 id="_5-7-4-floatingactionbutton" tabindex="-1"><a class="header-anchor" href="#_5-7-4-floatingactionbutton" aria-hidden="true">#</a> 5.7.4 FloatingActionButton</h2><p><code>FloatingActionButton</code>是Material设计规范中的一种特殊Button，通常悬浮在页面的某一个位置作为某种常用动作的快捷入口，如本节示例中页面右下角的&quot;➕&quot;号按钮。我们可以通过<code>Scaffold</code>的<code>floatingActionButton</code>属性来设置一个<code>FloatingActionButton</code>，同时通过<code>floatingActionButtonLocation</code>属性来指定其在页面中悬浮的位置，这个比较简单，不再赘述。</p><h2 id="_5-7-5-底部tab导航栏" tabindex="-1"><a class="header-anchor" href="#_5-7-5-底部tab导航栏" aria-hidden="true">#</a> 5.7.5 底部Tab导航栏</h2><p>我们可以通过<code>Scaffold</code>的<code>bottomNavigationBar</code>属性来设置底部导航，如本节开始示例所示，我们通过Material组件库提供的<code>BottomNavigationBar</code>和<code>BottomNavigationBarItem</code>两种组件来实现Material风格的底部导航栏。可以看到上面的实现代码非常简单，所以不再赘述，但是如果我们想实现如图5-21所示效果的底部导航栏应该怎么做呢？</p><p><img src="'+c+'" alt="图5-21"></p><p>Material组件库中提供了一个<code>BottomAppBar</code> 组件，它可以和<code>FloatingActionButton</code>配合实现这种“打洞”效果，源码如下：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code>bottomNavigationBar<span class="token punctuation">:</span> <span class="token class-name">BottomAppBar</span><span class="token punctuation">(</span>\n  color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span>\n  shape<span class="token punctuation">:</span> <span class="token class-name">CircularNotchedRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 底部导航栏打一个圆形的洞</span>\n  child<span class="token punctuation">:</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>\n    children<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n      <span class="token class-name">IconButton</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>home<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token class-name">SizedBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//中间位置空出</span>\n      <span class="token class-name">IconButton</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>business<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>spaceAround<span class="token punctuation">,</span> <span class="token comment">//均分底部导航栏横向空间</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，上面代码中没有控制打洞位置的属性，实际上，打洞的位置取决于<code>FloatingActionButton</code>的位置，上面<code>FloatingActionButton</code>的位置为：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code>floatingActionButtonLocation<span class="token punctuation">:</span> <span class="token class-name">FloatingActionButtonLocation</span><span class="token punctuation">.</span>centerDocked<span class="token punctuation">,</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>所以打洞位置在底部导航栏的正中间。</p><p><code>BottomAppBar</code>的<code>shape</code>属性决定洞的外形，<code>CircularNotchedRectangle</code>实现了一个圆形的外形，我们也可以自定义外形，比如，Flutter Gallery示例中就有一个“钻石”形状的示例，读者感兴趣可以自行查看。</p><h2 id="_5-7-6-页面-body" tabindex="-1"><a class="header-anchor" href="#_5-7-6-页面-body" aria-hidden="true">#</a> 5.7.6 页面 body</h2><p>最后就是页面的 Body 部分了，Scaffold 有一个 <code>body </code> 属性，接收一个 Widget，我们可以传任意的 Widget ，在下一章中，我们会介绍 TabBarView，它是一个可以进行页面切换的组件，在多 Tab 的 App 中，一般都会将 TabBarView 作为 Scaffold 的 Body。</p>',41)],l={},i=(0,a(18580).Z)(l,[["render",function(n,s){return(0,t.wg)(),(0,t.iD)("div",null,o)}]])},18580:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,t]of s)a[n]=t;return a}}}]);