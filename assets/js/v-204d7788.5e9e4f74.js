"use strict";(self.webpackChunkflutter_docs=self.webpackChunkflutter_docs||[]).push([[7380],{67944:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e=JSON.parse('{"key":"v-204d7788","path":"/chapter3/progress.html","title":"3.6 进度指示器","lang":"zh-CN","frontmatter":{},"headers":[{"level":3,"title":"LinearProgressIndicator","slug":"linearprogressindicator","link":"#linearprogressindicator","children":[]},{"level":3,"title":"示例","slug":"示例","link":"#示例","children":[]},{"level":3,"title":"CircularProgressIndicator","slug":"circularprogressindicator","link":"#circularprogressindicator","children":[]},{"level":3,"title":"自定义尺寸","slug":"自定义尺寸","link":"#自定义尺寸","children":[]},{"level":3,"title":"进度色动画","slug":"进度色动画","link":"#进度色动画","children":[]},{"level":3,"title":"自定义进度指示器样式","slug":"自定义进度指示器样式","link":"#自定义进度指示器样式","children":[]}],"git":{"createdTime":1654491188000,"updatedTime":1654491188000,"contributors":[{"name":"yzqdev","email":"yzqdev@outlook.com","commits":1}]},"readingTime":{"minutes":3.71,"words":1112},"filePathRelative":"chapter3/progress.md","localizedDate":"2022年6月6日","excerpt":""}')},87396:(n,s,a)=>{a.r(s),a.d(s,{default:()=>u});var e=a(6808);const t=a.p+"assets/img/3-26.23689ed3.png",p=a.p+"assets/img/3-27.68d423a7.png",o=a.p+"assets/img/3-28.653dc376.png",c=(0,e.uE)('<h1 id="_3-6-进度指示器" tabindex="-1"><a class="header-anchor" href="#_3-6-进度指示器" aria-hidden="true">#</a> 3.6 进度指示器</h1><p>Material 组件库中提供了两种进度指示器：<code>LinearProgressIndicator</code>和<code>CircularProgressIndicator</code>，它们都可以同时用于精确的进度指示和模糊的进度指示。精确进度通常用于任务进度可以计算和预估的情况，比如文件下载；而模糊进度则用户任务进度无法准确获得的情况，如下拉刷新，数据提交等。</p><h3 id="linearprogressindicator" tabindex="-1"><a class="header-anchor" href="#linearprogressindicator" aria-hidden="true">#</a> LinearProgressIndicator</h3><p><code>LinearProgressIndicator</code>是一个线性、条状的进度条，定义如下：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token class-name">LinearProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  double value<span class="token punctuation">,</span>\n  <span class="token class-name">Color</span> backgroundColor<span class="token punctuation">,</span>\n  <span class="token class-name">Animation</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Color</span><span class="token punctuation">&gt;</span></span> valueColor<span class="token punctuation">,</span>\n  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>value</code>：<code>value</code>表示当前的进度，取值范围为[0,1]；如果<code>value</code>为<code>null</code>时则指示器会执行一个循环动画（模糊进度）；当<code>value</code>不为<code>null</code>时，指示器为一个具体进度的进度条。</li><li><code>backgroundColor</code>：指示器的背景色。</li><li><code>valueColor</code>: 指示器的进度条颜色；值得注意的是，该值类型是<code>Animation&lt;Color&gt; </code>，这允许我们对进度条的颜色也可以指定动画。如果我们不需要对进度条颜色执行动画，换言之，我们想对进度条应用一种固定的颜色，此时我们可以通过<code>AlwaysStoppedAnimation</code>来指定。</li></ul><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h3><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token comment">// 模糊进度条(会执行一个动画)</span>\n<span class="token class-name">LinearProgressIndicator</span><span class="token punctuation">(</span>\n  backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  valueColor<span class="token punctuation">:</span> <span class="token class-name">AlwaysStoppedAnimation</span><span class="token punctuation">(</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token comment">//进度条显示50%</span>\n<span class="token class-name">LinearProgressIndicator</span><span class="token punctuation">(</span>\n  backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  valueColor<span class="token punctuation">:</span> <span class="token class-name">AlwaysStoppedAnimation</span><span class="token punctuation">(</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n  value<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span> \n<span class="token punctuation">)</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行效果如图3-25所示：</p><p><img src="data:image/png;base64,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" alt="图3-25"></p><p>第一个进度条在执行循环动画：蓝色条一直在移动，而第二个进度条是静止的，停在50%的位置。</p><h3 id="circularprogressindicator" tabindex="-1"><a class="header-anchor" href="#circularprogressindicator" aria-hidden="true">#</a> CircularProgressIndicator</h3><p><code>CircularProgressIndicator</code>是一个圆形进度条，定义如下：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  double value<span class="token punctuation">,</span>\n  <span class="token class-name">Color</span> backgroundColor<span class="token punctuation">,</span>\n  <span class="token class-name">Animation</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Color</span><span class="token punctuation">&gt;</span></span> valueColor<span class="token punctuation">,</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">4.0</span><span class="token punctuation">,</span>\n  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   \n<span class="token punctuation">}</span><span class="token punctuation">)</span> \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>前三个参数和<code>LinearProgressIndicator</code>相同，不再赘述。<code>strokeWidth</code> 表示圆形进度条的粗细。示例如下：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token comment">// 模糊进度条(会执行一个旋转动画)</span>\n<span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span>\n  backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  valueColor<span class="token punctuation">:</span> <span class="token class-name">AlwaysStoppedAnimation</span><span class="token punctuation">(</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token comment">//进度条显示50%，会显示一个半圆</span>\n<span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span>\n  backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  valueColor<span class="token punctuation">:</span> <span class="token class-name">AlwaysStoppedAnimation</span><span class="token punctuation">(</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n  value<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行效果如图3-26所示：</p><p><img src="'+t+'" alt="图3-26"></p><p>第一个进度条会执行旋转动画，而第二个进度条是静止的，它停在50%的位置。</p><h3 id="自定义尺寸" tabindex="-1"><a class="header-anchor" href="#自定义尺寸" aria-hidden="true">#</a> 自定义尺寸</h3><p>我们可以发现<code>LinearProgressIndicator</code>和<code>CircularProgressIndicator</code>，并没有提供设置圆形进度条尺寸的参数；如果我们希望<code>LinearProgressIndicator</code>的线细一些，或者希望<code>CircularProgressIndicator</code>的圆大一些该怎么做？</p><p>其实<code>LinearProgressIndicator</code>和<code>CircularProgressIndicator</code>都是取父容器的尺寸作为绘制的边界的。知道了这点，我们便可以通过尺寸限制类Widget，如<code>ConstrainedBox</code>、<code>SizedBox</code> （我们将在后面容器类组件一章中介绍）来指定尺寸，如：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token comment">// 线性进度条高度指定为3</span>\n<span class="token class-name">SizedBox</span><span class="token punctuation">(</span>\n  height<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n  child<span class="token punctuation">:</span> <span class="token class-name">LinearProgressIndicator</span><span class="token punctuation">(</span>\n    backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    valueColor<span class="token punctuation">:</span> <span class="token class-name">AlwaysStoppedAnimation</span><span class="token punctuation">(</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    value<span class="token punctuation">:</span> <span class="token number">.5</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token comment">// 圆形进度条直径指定为100</span>\n<span class="token class-name">SizedBox</span><span class="token punctuation">(</span>\n  height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>\n  width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>\n  child<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span>\n    backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    valueColor<span class="token punctuation">:</span> <span class="token class-name">AlwaysStoppedAnimation</span><span class="token punctuation">(</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    value<span class="token punctuation">:</span> <span class="token number">.7</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行效果如图3-27所示：</p><p><img src="'+p+'" alt="图3-27"></p><p>注意，如果<code>CircularProgressIndicator</code>显示空间的宽高不同，则会显示为椭圆。如：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token comment">// 宽高不等</span>\n<span class="token class-name">SizedBox</span><span class="token punctuation">(</span>\n  height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>\n  width<span class="token punctuation">:</span> <span class="token number">130</span><span class="token punctuation">,</span>\n  child<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span>\n    backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    valueColor<span class="token punctuation">:</span> <span class="token class-name">AlwaysStoppedAnimation</span><span class="token punctuation">(</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    value<span class="token punctuation">:</span> <span class="token number">.7</span><span class="token punctuation">,</span>\n  <span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行效果如图3-28所示：</p><p><img src="'+o+'" alt="3-28"></p><h3 id="进度色动画" tabindex="-1"><a class="header-anchor" href="#进度色动画" aria-hidden="true">#</a> 进度色动画</h3><p>前面说过可以通过<code>valueColor</code>对进度条颜色做动画，关于动画我们将在后面专门的章节详细介绍，这里先给出一个例子，读者在了解了Flutter动画一章后再回过头来看。</p><p>我们实现一个进度条在3秒内从灰色变成蓝色的动画：</p><div class="language-dart line-numbers-mode" data-ext="dart"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">&#39;package:flutter/material.dart&#39;</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">ProgressRoute</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata function">@override</span>\n  _ProgressRouteState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_ProgressRouteState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> _ProgressRouteState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ProgressRoute</span><span class="token punctuation">&gt;</span></span>\n    <span class="token keyword">with</span> <span class="token class-name">SingleTickerProviderStateMixin</span> <span class="token punctuation">{</span>\n  <span class="token class-name">AnimationController</span> _animationController<span class="token punctuation">;</span>\n\n  <span class="token metadata function">@override</span>\n  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">//动画执行时间3秒  </span>\n    _animationController <span class="token operator">=</span> <span class="token class-name">AnimationController</span><span class="token punctuation">(</span>\n        vsync<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token comment">//注意State类需要混入SingleTickerProviderStateMixin（提供动画帧计时/触发器）</span>\n        duration<span class="token punctuation">:</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    _animationController<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    _animationController<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata function">@override</span>\n  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    _animationController<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token metadata function">@override</span>\n  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token class-name">SingleChildScrollView</span><span class="token punctuation">(</span>\n      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>\n        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>\n            <span class="token class-name">Padding</span><span class="token punctuation">(</span>\n            padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            child<span class="token punctuation">:</span> <span class="token class-name">LinearProgressIndicator</span><span class="token punctuation">(</span>\n              backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n              valueColor<span class="token punctuation">:</span> <span class="token class-name">ColorTween</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span>\n                <span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>_animationController<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 从灰色变成蓝色</span>\n              value<span class="token punctuation">:</span> _animationController<span class="token punctuation">.</span>value<span class="token punctuation">,</span>\n            <span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自定义进度指示器样式" tabindex="-1"><a class="header-anchor" href="#自定义进度指示器样式" aria-hidden="true">#</a> 自定义进度指示器样式</h3><p>定制进度指示器风格样式，可以通过<code>CustomPainter</code> Widget 来自定义绘制逻辑，实际上<code>LinearProgressIndicator</code>和<code>CircularProgressIndicator</code>也正是通过<code>CustomPainter</code>来实现外观绘制的。关于<code>CustomPainter</code>，我们将在后面“自定义Widget”一章中详细介绍。</p>',35),l={href:"https://pub.flutter-io.cn/packages/flutter_spinkit",target:"_blank",rel:"noopener noreferrer"},i={},u=(0,a(18580).Z)(i,[["render",function(n,s){const a=(0,e.up)("ExternalLinkIcon");return(0,e.wg)(),(0,e.iD)("div",null,[c,(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e._)("a",l,[(0,e.Uk)("flutter_spinkit"),(0,e.Wm)(a)]),(0,e.Uk)(" 包提供了多种风格的模糊进度指示器，读者若是感兴趣，可以参考。")])])])}]])},18580:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}}}]);